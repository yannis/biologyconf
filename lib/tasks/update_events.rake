events = [
  {
    title: 'Registration',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-13 08:30",
    end: "2014-02-13 10:00",
    kind: "organisation"
  },
  {
    title: 'Welcome',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-13 10:00",
    end: "2014-02-13 10:15",
    kind: "organisation"
  },
  {
    title: "The mycoheterotrophs - unearthing secrets of the plants parasitic on fungi",
    speaker_name: "Prof. J. Leake",
    speaker_affiliation: "University of Sheffield",
    start: "2014-02-13 10:15",
    end: "2014-02-13 11:00",
    kind: "keynote presentation"
  },
  {
    title: "Hiding for surviving? Quaternary evolutionary history of bryophytes in Europe.",
    speaker_name: "Aurélie Désamoré",
    speaker_affiliation: "University of Zurich",
    start: "2014-02-13 11:00",
    end: "2014-02-13 11:15",
    kind: "student presentation"
  },
  {
    title: "Species recognition in fungi-cyanobacteria lichen symbioses – a case study in <em>Peltigera</em> sect. <em>Peltigera</em> (Lecanoromycetes, Ascomycota)",
    speaker_name: "Camille Truong",
    speaker_affiliation: "Conservatory & Botanical Garden Geneva",
    start: "2014-02-13 11:15",
    end: "2014-02-13 11:30",
    kind: "student presentation"
  },
  {
    title: "Resolving the deep evolutionary relationships of Rhizaria",
    speaker_name: "Roberto Sierra",
    speaker_affiliation: "University of Geneva",
    start: "2014-02-13 11:30",
    end: "2014-02-13 11:45",
    kind: "student presentation"
  },
  {
    title: "History of admixture in <em>Populus</em> hybrid zones",
    speaker_name: "Camille Christe",
    speaker_affiliation: "University of Fribourg",
    start: "2014-02-13 11:45",
    end: "2014-02-13 12:00",
    kind: "student presentation"
  },
  {
    title: "A General model of Distant Hybridization reveals the conditions for extinction in Atlantic salmon and brown trout",
    speaker_name: "Claudio S. Quilodrán ",
    speaker_affiliation: "University of Geneva",
    start: "2014-02-13 12:00",
    end: "2014-02-13 12:15",
    kind: "student presentation"
  },
  {
    title: "Non-random inbreeding with respect to phenotype biases estimates of inbreeding depression",
    speaker_name: "Philipp Becker",
    speaker_affiliation: "University of Zurich",
    start: "2014-02-13 12:15",
    end: "2014-02-13 12:30",
    kind: "student presentation"
  },
  {
    title: 'lunch',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-13 12:30",
    end: "2014-02-13 13:45",
    kind: "break"
  },
  {
    title: "Organization of phytoplankton communities along scales of time and space",
    speaker_name: "Prof. B. Ibelings",
    speaker_affiliation: "University of Geneva",
    start: "2014-02-13 13:45",
    end: "2014-02-13 14:30",
    kind: "keynote presentation"
  },
  {
    title: "Scale and scope to explain varying patterns of community diversity in river networks",
    speaker_name: "Mathew Seymour",
    speaker_affiliation: "EAWAG",
    start: "2014-02-13 14:30",
    end: "2014-02-13 14:45",
    kind: "student presentation"
  },
  {
    title: "A common garden experiment with pitcher plant communities reveals that consumers are more adapted to local conditions than prey",
    speaker_name: "Elodie Parain",
    speaker_affiliation: "University of Fribourg",
    start: "2014-02-13 14:45",
    end: "2014-02-13 15:00",
    kind: "student presentation"
  },
  {
    title: 'Coffee break + Poster session',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-13 15:00",
    end: "2014-02-13 15:45",
    kind: "break"
  },
  {
    title: "A novel niche allows the temporary survival of a low fitness mutant",
    speaker_name: "Claire-Marie Loudon",
    speaker_affiliation: "University of Geneva",
    start: "2014-02-13 15:45",
    end: "2014-02-13 16:00",
    kind: "student presentation"
  },
  {
    title: "Spatiotemporal dynamics of <em>Puumala hantavirus</em> associated with its rodent host, <em>Myodes glareolus</em>",
    speaker_name: "Vanessa Weber de Melo",
    speaker_affiliation: "University of Bern",
    start: "2014-02-13 16:00",
    end: "2014-02-13 16:15",
    kind: "student presentation"
  },
  {
    title: "Foster care-givers influence brood pathogen resistance in ants",
    speaker_name: "Jessica Purcell",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-13 16:15",
    end: "2014-02-13 16:30",
    kind: "student presentation"
  },
  {
    title: "Interaction of parasite- and predator-induced maternal effects in the Great tit (<em>Parus major</em>)",
    speaker_name: "Alessandra Basso",
    speaker_affiliation: "University of Bern",
    start: "2014-02-13 16:30",
    end: "2014-02-13 16:45",
    kind: "student presentation"
  },
  {
    title: "Power & temptation cause shifts between exploitation & cooperation in a cleaner wrasse mutualism",
    speaker_name: "Simon Gingins",
    speaker_affiliation: "University of Neuchâtel",
    start: "2014-02-13 16:45",
    end: "2014-02-13 17:00",
    kind: "student presentation"
  },
  {
    title: "Chromatic variation in carotenoid-based ornaments: the differential role of distinct integumentary components",
    speaker_name: "Luis M. San-Jose",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-13 17:00",
    end: "2014-02-13 17:15",
    kind: "student presentation"
  },
  {
    title: "Sleep and vigilance linked to maternal melanism and the melanocortin system in wild barn owlets",
    speaker_name: "Madeleine F. Scriba",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-13 17:15",
    end: "2014-02-13 17:30",
    kind: "student presentation"
  },
  {
    title: "Darwin's Dinner",
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-13 18:30",
    end: "2014-02-13 23:00",
    kind: "break"
  },
  {
    title: "Evolution: the dynamics of information",
    speaker_name: "Prof. P.H. Gouyon",
    speaker_affiliation: "Muséum National d’Histoire Naturelle de Paris",
    start: "2014-02-13 21:00",
    end: "2014-02-13 21:45",
    kind: "keynote presentation"
  },
  ######## next day
  {
    title: 'Registration',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-14 08:30",
    end: "2014-02-14 09:30",
    kind: "organisation"
  },
  {
    title: "Tracing the genetic basis of adaptations in the house mouse",
    speaker_name: "Prof. D. Tautz",
    speaker_affiliation: "Max Planck Institute for Evolutionary Biology",
    start: "2014-02-14 09:30",
    end: "2014-02-14 10:15",
    kind: "keynote presentation"
  },
  {
    title: "Evolution in chimpanzees of a multigenic family involved in drug metabolism in humans",
    speaker_name: "Christelle Vangenot",
    speaker_affiliation: "University of Geneva",
    start: "2014-02-14 10:15",
    end: "2014-02-14 10:30",
    kind: "student presentation"
  },
  {
    title: "Comparative transcriptomics reveals genes underlying adaptive evolution in catfishes",
    speaker_name: "Chloé Hot",
    speaker_affiliation: "University of Geneva",
    start: "2014-02-14 10:30",
    end: "2014-02-14 10:45",
    kind: "student presentation"
  },
  {
    title: 'Coffee break + Poster session',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-14 10:45",
    end: "2014-02-14 11:30",
    kind: "break"
  },
  {
    title: "Natural selection in range expansions: a spatially explicit simulation approach",
    speaker_name: "Ricardo Kanitz",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-14 11:30",
    end: "2014-02-14 11:45",
    kind: "student presentation"
  },
  {
    title: "Detection of polygenic selection at different evolutionary time scales",
    speaker_name: "Josephine Daub",
    speaker_affiliation: "University of Bern",
    start: "2014-02-14 11:45",
    end: "2014-02-14 12:00",
    kind: "student presentation"
  },
  {
    title: "How does pollinator transitions occur ? Transcriptomic evidence",
    speaker_name: "Martha Liliana Serrano Serrano",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-14 12:00",
    end: "2014-02-14 12:15",
    kind: "student presentation"
  },
  {
    title: "Heritability of Floral Scent",
    speaker_name: "Pengjuan Zu",
    speaker_affiliation: "University of Zurich",
    start: "2014-02-14 12:15",
    end: "2014-02-14 12:30",
    kind: "student presentation"
  },
  {
    title: 'Lunch',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-14 12:30",
    end: "2014-02-14 13:45",
    kind: "break"
  },
  {
    title: "Evolution, Biogeography, and the Data Deluge",
    speaker_name: "Prof. A. Antonelli",
    speaker_affiliation: "University of Gothenburg",
    start: "2014-02-14 13:45",
    end: "2014-02-14 14:30",
    kind: "keynote presentation"
  },
  {
    title: "Biogeography and diversification patterns of the Andean plant genus Macrocarpaea (Gentianaceae)",
    speaker_name: "Julien Vieu",
    speaker_affiliation: "University of Neuchâtel",
    start: "2014-02-14 14:30",
    end: "2014-02-14 14:45",
    kind: "student presentation"
  },
  {
    title: "Biogeography of Neotropical dwarf cichlid genus <em>Apistogramma</em>: Amazonia is the species-richest but not an ancestral region",
    speaker_name: "Zuzana Musilova",
    speaker_affiliation: "University of Basel",
    start: "2014-02-14 14:45",
    end: "2014-02-14 15:00",
    kind: "student presentation"
  },
  {
    title: 'Coffee break + Poster session',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-14 15:00",
    end: "2014-02-14 15:45",
    kind: "break"
  },
  {
    title: "Redefinition of the biogeographical areas of the freshwater fishes in the Guiana Shield with a study of the dispersal processes of 3 genera of the Heptapteridae (Pisces: Siluriformes)",
    speaker_name: "Alexandre Lemopoulos",
    speaker_affiliation: "Museum of Natural History Geneva",
    start: "2014-02-14 15:45",
    end: "2014-02-14 16:00",
    kind: "student presentation"
  },
  {
    title: "Ecological and evolutionary drivers of the environmental niche of Neotropical snakes",
    speaker_name: "Valeria Di Cola",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-14 16:00",
    end: "2014-02-14 16:15",
    kind: "student presentation"
  },
  {
    title: "Conservation phylogeography: does historical diversity contribute to regional vulnerability in European tree frogs (<em>Hyla arborea</em>)?",
    speaker_name: "Christophe Dufresnes",
    speaker_affiliation: "University of Lausanne",
    start: "2014-02-14 16:15",
    end: "2014-02-14 16:30",
    kind: "student presentation"
  },
  {
    title: "When geological events shape the species diversity within a genus: the case of the <em>italica</em> group of <em>Silene</em> (Caryophyllaceae)",
    speaker_name: "Pierre-Emmanuel Du Pasquier",
    speaker_affiliation: "Conservatory & Botanical Garden Geneva",
    start: "2014-02-14 16:30",
    end: "2014-02-14 16:45",
    kind: "student presentation"
  },
  {
    title: "Rapid evolution at the edge: selection on life-history traits during experimental range expansions",
    speaker_name: "Emanuel Fronhofer",
    speaker_affiliation: "EAWAG",
    start: "2014-02-14 16:45",
    end: "2014-02-14 17:00",
    kind: "student presentation"
  },
  {
    title: 'Prices and Farewell',
    speaker_name: nil,
    speaker_affiliation: nil,
    start: "2014-02-14 17:00",
    end: "2014-02-14 17:30",
    kind: "organisation"
  }
]

namespace :events do
  desc "Upgrade events with speaker details"
  task :add_speaker => :environment do
    p "Deleting previous events" if Event.delete_all
    p "Saving updated events"
    for event in events
      print "." if Event.create!(title: event[:title], speaker_name: event[:speaker_name], speaker_affiliation: event[:speaker_affiliation],
        start: event[:start], end: event[:end], kind: event[:kind])
        registration = Registration.where("registrations.title LIKE ?", "#{event[:title][0..20]}%").first
        print "marked" if registration.update_attributes(selected_as_talk: true) if registration
    end
    p "Updated all events"
  end
end
